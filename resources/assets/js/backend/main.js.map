{"version":3,"sources":["main.coffee"],"names":[],"mappings":"AAAA;EAAA,MAAM,CAAC,WAAP,GACE;IAAA,OAAA,EAAS,OAAT;IACA,UAAA,EAAY,SAAC,GAAD;aACV,MAAA,CAAO,GAAP,CAAW,CAAC,OAAZ,CAAoB,IAApB,EAA0B,OAA1B,CAAkC,CAAC,OAAnC,CAA2C,IAA3C,EAAiD,QAAjD,CAA0D,CAAC,OAA3D,CAAmE,IAAnE,EAAyE,OAAzE,CAAiF,CAAC,OAAlF,CAA0F,IAA1F,EAAgG,MAAhG,CAAuG,CAAC,OAAxG,CAAgH,IAAhH,EAAsH,MAAtH;IADU,CADZ;;;EAKF,MAAM,CAAC,MAAP,GAAgB,SAAA;AACd,QAAA;IAAA,GAAA,GAAM,QAAQ,CAAC,cAAT,CAAwB,WAAxB;IACN,WAAA,GAAc,QAAQ,CAAC,cAAT,CAAwB,aAAxB;IACd,aAAA,GAAgB,QAAQ,CAAC,cAAT,CAAwB,eAAxB;IAChB,MAAA,GAAS,QAAQ,CAAC,cAAT,CAAwB,QAAxB;IACT,QAAA,GAAe,IAAC,EAAE,CAAC,YAAJ,CACb;MAAA,MAAA,EAAQ,GAAR;MACA,GAAA,EAAK,iBADL;MAEA,IAAA,EAAM,YAFN;MAGA,SAAA,EAAW,IAHX;MAIA,UAAA,EAAY,OAJZ;MAKA,UAAA,EAAY,OALZ;MAMA,YAAA,EAAc,MANd;MAOA,QAAA,EAAU,SAAA;QACR,aAAa,CAAC,KAAK,CAAC,OAApB,GAA8B;QAE9B,IAAC,CAAA,cAAD,CAAgB,WAAhB;MAHQ,CAPV;MAYA,QAAA,EAAU,SAAA;QACR,MAAM,CAAC,SAAP,GAAmB;QAEnB,GAAG,CAAC,SAAJ,GAAgB;MAHR,CAZV;MAkBA,UAAA,EAAY,SAAC,QAAD,EAAW,QAAX;QACV,GAAG,CAAC,SAAJ,GAAgB;QAChB,aAAa,CAAC,KAAK,CAAC,OAApB,GAA8B;QAE9B,IAAG,CAAC,QAAJ;UACE,MAAM,CAAC,SAAP,GAAmB;AACnB,iBAFF;;QAGA,IAAG,QAAQ,CAAC,OAAT,KAAoB,IAAvB;UACE,MAAM,CAAC,SAAP,GAAmB,UAAA,GAAa,WAAW,CAAC,UAAZ,CAAuB,QAAvB,CAAb,GAAgD,WAAhD,GAA8D,0BADnF;SAAA,MAAA;UAGE,IAAG,QAAQ,CAAC,GAAZ;YACE,MAAM,CAAC,SAAP,GAAmB,WAAW,CAAC,UAAZ,CAAuB,QAAQ,CAAC,GAAhC,EADrB;WAAA,MAAA;YAGE,MAAM,CAAC,SAAP,GAAmB,2CAHrB;WAHF;;MAPU,CAlBZ;MAiCA,OAAA,EAAS,SAAA;QACP,aAAa,CAAC,KAAK,CAAC,OAApB,GAA8B;QAC9B,MAAM,CAAC,SAAP,GAAmB;MAFZ,CAjCT;KADa;EALD;AANhB","file":"main.js","sourcesContent":["window.Helsingfors =\n  version: '0.0.1'\n  escapeTags: (str) ->\n    String(str).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace />/g, '&gt;'\n\n\nwindow.onload = ->\n  btn = document.getElementById('uploadBtn')\n  progressBar = document.getElementById('progressBar')\n  progressOuter = document.getElementById('progressOuter')\n  msgBox = document.getElementById('msgBox')\n  uploader = new (ss.SimpleUpload)(\n    button: btn\n    url: 'file_upload.php'\n    name: 'uploadfile'\n    multipart: true\n    hoverClass: 'hover'\n    focusClass: 'focus'\n    responseType: 'json'\n    startXHR: ->\n      progressOuter.style.display = 'block'\n      # make progress bar visible\n      @setProgressBar progressBar\n      return\n    onSubmit: ->\n      msgBox.innerHTML = ''\n      # empty the message box\n      btn.innerHTML = 'Uploading...'\n      # change button text to \"Uploading...\"\n      return\n    onComplete: (filename, response) ->\n      btn.innerHTML = 'Choose Another File'\n      progressOuter.style.display = 'none'\n      # hide progress bar when upload is completed\n      if !response\n        msgBox.innerHTML = 'Unable to upload file'\n        return\n      if response.success == true\n        msgBox.innerHTML = '<strong>' + Helsingfors.escapeTags(filename) + '</strong>' + ' successfully uploaded.'\n      else\n        if response.msg\n          msgBox.innerHTML = Helsingfors.escapeTags(response.msg)\n        else\n          msgBox.innerHTML = 'An error occurred and the upload failed.'\n      return\n    onError: ->\n      progressOuter.style.display = 'none'\n      msgBox.innerHTML = 'Unable to upload file'\n      return\n  )\n  return\n"],"sourceRoot":"/source/"}